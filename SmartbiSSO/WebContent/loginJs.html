<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
<title>Insert title here</title>
</head>
<body>
	<h3>单点登录测试工具/页面中使用Form登录</h3>
	<div>
		smartbi地址：<input type="text" value="http://localhost:8080/smartbi" name="smartbiUrl" size="50"><br/>
		
		<form method="POST" id="formLogin" onsubmit="go();return false">
		    <p>单点登录用户：<input type="text" name="user" size="20" value="admin"></p>     
		    <p>单点登录密码：<input type="text" name="password" size="20" value="admin"></p>
		    <p>登录成功后的跳转地址：<input type="text" name="surl" size="50" value="http://www.baidu.com"></p>
		    <p>登录失败后的跳转地址：<input type="text" name="furl" size="50" value=""></p>     
		    <p><input type="submit" value="登录" name="B1"></p> 
		</form>
	</div>	
	<script type="text/javascript">
		function go() {
		    formLogin.action = document.getElementsByName("smartbiUrl")[0].value+"/vision/index.jsp";
		    formLogin.user.value = document.getElementsByName("user")[0].value;
		    formLogin.password.value = document.getElementsByName("password")[0].value;    
		    formLogin.surl.value = document.getElementsByName("surl")[0].value;	//登录成功地址
		    formLogin.furl.value = document.getElementsByName("furl")[0].value; // 登录失败后的跳转地址
		    formLogin.submit();
		    return true; 
			   
		}
	</script>
</body>
</html>